:toc:
:toc-title: ОГЛАВЛЕНИЕ

[.text-center]

= Лабораторная работа №2

[.text-center]

Среда разработки программ для микроконтроллера

[.text-center]

Автор: Володина Екатерина 

[.text-center]

Группа: КЭ-413

<<<


[.text-left]

== ВВЕДЕНИЕ
Среда разработки программ для микроконтроллера в IAR является мощным инструментом, предназначенным для создания, отладки и оптимизации встроенного программного обеспечения. В современных электронных устройствах микроконтроллеры играют ключевую роль, обеспечивая управление и обработку данных в самых разных системах — от бытовой техники до промышленных автоматизированных комплексов. Использование профессиональной среды разработки, такой как IAR, позволяет существенно повысить качество программного кода, сократить время разработки и обеспечить надежную работу микроконтроллерных приложений.

В данной работе рассматриваются основные возможности и функциональные характеристики среды IAR, особенности организации процесса разработки программного обеспечения для микроконтроллеров, а также практические аспекты использования данной среды при выполнении различных задач встроенного программирования. Особое внимание уделяется инструментам компиляции, отладки и анализа кода, которые делают IAR одним из ведущих решений в области разработки встроенных систем.


<<<

[.text-left]

== Состав интеграционной среды разработки IAR Workbench

Интеграционная среда разработки IAR Workbench представляет собой комплексное программное решение, объединяющее набор инструментов для создания, компиляции, отладки и оптимизации программного обеспечения для микроконтроллеров различных архитектур. Эта среда обеспечивает полный цикл разработки встроенных приложений, позволяя разработчикам эффективно управлять всеми этапами — от написания исходного кода до его тестирования и анализа производительности.

Основные компоненты IAR Workbench включают:

* Редактор исходного кода — удобный текстовый редактор с подсветкой синтаксиса, автодополнением и навигацией по проекту, позволяющий разработчику эффективно создавать и изменять программные модули.

* Компилятор — высокопроизводительный генератор машинного кода, оптимизированный для различных семейств микроконтроллеров. Компилятор обеспечивает создание компактного и быстрого кода, что особенно важно для встроенных систем с ограниченными ресурсами.

* Отладчик — интегрированный инструмент для пошагового выполнения программ, управления точками останова и просмотра содержимого памяти и регистров микроконтроллера. Отладчик поддерживает как аппаратные средства отладки, так и симуляцию работы процессора.

* Конфигуратор и менеджер проектов — инструменты для удобного управления настройками проекта, параметрами компиляции и сборки, а также интеграции дополнительных библиотек и модулей.

* Анализатор кода и инструмент профилирования — средства, позволяющие выявлять потенциальные ошибки, узкие места и избыточные участки кода, а также оценивать эффективность его выполнения.

Благодаря интеграции этих компонентов в единую среду, IAR Workbench предоставляет разработчикам удобную и мощную платформу для создания надежного и высококачественного программного обеспечения для микроконтроллерных систем.

<<<

[.text-left]

== Процесс создания исполняемого образа

Создание исполняемого образа — это комплексный процесс превращения исходного кода программы в файл, который компьютер может непосредственно загрузить и исполнить. Этот процесс включает два основных этапа:

* Преобразование кода в объектный файл;

* Компиляция кода в исполняемый файл.



<<<

[.text-left]

== Трансляция кода

Трансляцию кода выполняет компилятор. После трансляции вы можете получить на выходе либо файлы библиотеки, которые впоследствии можно будет использовать в других проектах, либо объектные файлы.

<<<

[.text-left]

== Компоновка кода

Компоновку кода выполняет компоновщик. На вход компоновщика могут поступать внешние библиотеки, полученные на этапе трансляции в других проектах и программах, объектные файлы, полученные на предыдущем этапе, стандартные (встроенные) библиотеки C++ и конфигурационный файл, описывающий настройки размещения кода и данных в адресном пространстве микроконтроллера. Компоновщик создает исполняемый файл, который можно запустить на микроконтроллере.

<<<
[.text-left]

== Запуск и отладка

Последний этап — отладка. Компоновщик IAR создает файл в формате ELF, содержащий исполняемый образ программы. Этот файл можно использовать для:

* Загрузки системы отладки IAR-CSPY или любой другой отладчик, например GDB, способный читать формат ELF;

* Загрузка образа в ПЗУ микроконтроллера с помощью программатора.

[.text-left]

== Запуск программного обеспечения

Функция int main() является точкой входа в программу. Для пользователя программа начинается с вызова этой функции и выполнения её тела. Однако на самом деле ещё до вызова функции main() микроконтроллер выполняет множество различных действий, например инициализирует стек, глобальные переменные и константы.

*Инициализация стека*

Сразу после подачи питания происходит инициализация указателя стека по конечному адресу стека.

*Инициализация переменных нулевыми значениями*

После подачи питания на микроконтроллер регистр адреса команды указывает на адрес 0, и микроконтроллер начинает работу с адреса 0. По адресу 0 находится таблица векторов прерываний, а по начальному вектору — команда инициализации указателя стека на конечный адрес стека и последующего перехода к функции инициализации.

После подачи питания и инициализации стека выполняется функция инициализации памяти нулями (данные, указанные как инициализированные нулями, неинициализированные глобальные переменные, такие как int i;)

*Инициализация переменных*

Далее должна произойти инициализация данных, определённых как инициализированные данные, например int i = 6. Значения инициализации для каждой переменной будут скопированы из ПЗУ в ОЗУ.

*Запуск функции main()*

Завершающий этап — вызов функции main().


[.text-left]

== ЗАКЛЮЧЕНИЕ

В ходе работы был рассмотрен процесс создания исполняемого образа программы. Основные этапы — компиляция, линковка и подготовка итогового файла — были подробно описаны и объяснены. 

Полученные знания помогут лучше понять принцип работы программного обеспечения и использовать этот опыт при разработке своих проектов. В дальнейшем можно углубить исследование, изучив современные методы оптимизации и автоматизации создания исполняемых файлов.